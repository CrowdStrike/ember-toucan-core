<div
  class="flex flex-col {{if @isDisabled 'text-disabled'}}"
  data-root-field={{if @rootTestSelector @rootTestSelector null}}
>
  <Form::Field as |field|>
    {{#if
      (this.assertBlockOrArgumentExists
        (hash
          blockExists=(has-block "label")
          argName="label"
          arg=@label
          isRequired=true
        )
      )
    }}
      <field.Label for={{field.id}} data-label>
        {{#if (has-block "label")}}
          {{yield to="label"}}
        {{else}}
          {{@label}}
        {{/if}}
      </field.Label>
    {{/if}}

    {{#if
      (this.assertBlockOrArgumentExists
        (hash blockExists=(has-block "hint") argName="hint" arg=@hint)
      )
    }}
      <field.Hint id={{field.hintId}} data-hint>
        {{#if (has-block "hint")}}
          {{yield to="hint"}}
        {{else}}
          {{@hint}}
        {{/if}}
      </field.Hint>
    {{/if}}
    <field.Control class="mt-1.5 flex">
      <Form::Controls::Input
        id={{field.id}}
        aria-describedby="{{if @hint field.hintId}} {{if @error field.errorId}}"
        aria-invalid={{if @error "true"}}
        class="w-full"
        @isDisabled={{@isDisabled}}
        @value={{@value}}
        @onChange={{@onChange}}
        @hasError={{this.hasError}}
        ...attributes
      />
    </field.Control>

    <div
      class="type-xs-tight text-critical mt-1.5 flex justify-between
        {{if this.hasMoreThanOneError 'items-start' 'items-center'}}"
    >
      {{#if @error}}
        <field.Error
          class="flex-3"
          id={{field.errorId}}
          @error={{@error}}
          data-error
        />
      {{/if}}
      {{#if (has-block "character")}}
        <div class="flex-1 text-right">
          {{yield (hash id=field.id) to="character"}}
        </div>
      {{/if}}
    </div>
  </Form::Field>
</div>